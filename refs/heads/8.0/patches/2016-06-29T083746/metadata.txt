subject: Pike 8.0: Documentation, Standards.URI, tzdata, Calendar, NT resolver
from: e67a57cb68523c0f377c285ddc51807513210545
to: 8115ec9c5ab50e2d030e708aae9c6d28f4864d94
originator: wellhardh@roxen.com
depends: 2016-05-23T150345
restart: true

Multiple fixes:

  * Documentation breakage
    
    When preparing a new Debian package of 8.0.240, I noticed that some
    documentation disappeared, apparently due to the following. The error
    in Nettle.Sign is already corrected but not the others, AFAICT, and
    I'm guessing that @exp should be @expr. Patch below, which I home
    someone can apply right away.
    
  * Standards.URI: Survive base URI's without authority sections.
    
    Fixes "Bad argument 1 to sizeof()." for eg
    
      Standards.URI("<foo@example.com>", "mailto:<bar@example.com>");

  * Standards.URI: Avoid triggering the DWIM...

  * Standards.URI: Improved handling of non-paths in combine_uri_path().
    
    This avoids prefixing the path with a slash in eg:
    
      Standards.URI("<foo@example.com>", "mailto:<bar@example.com>");

  * Updated to tzdata2016e.

  * Calendar.Timezone: Increase INF_YEAR from 2050 to 2100.
    
    The timezone definitions have started containing years beyond 2050
    (eg the Egypt rule set has rules up to year 2055).
    
    Fixes testsuite failures.

  * System [NT]: Fixed resolver recursion.
    
    Fixes various obscure failures with modules randomly failing to compile.

  * release number bumped to 8.0.267 by export.pike
