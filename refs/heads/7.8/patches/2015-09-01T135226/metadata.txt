subject: Pike 7.8: Graphics.Graph, Sql.tds, ODBC, tzdata, DNS, gzip, Parser.C, 5.4.88-r2
from: 73e172fc98160bed8abcfe1acfbae7da7dc90557
to: e13646135023847a634c92c47091472e0cc3a447
originator: wellhardh@roxen.com
depends: 2015-01-23T145012
restart: true

Multiple fixes:

  * Pad signature to the same size as the key.

  * Graphics.Graph.create_graph: Cleaned up some code.

  * Graphics.Graph.create_graph: Fixed legend color box border.
    
    The bottom left corner was off by one pixel to the right.
    
    Fixes [bug 1826].

  * Sql.tds: Added support for SYBDECIMAL.
    
    This is the type used by MSSQL for fields declared "decimal".

  * Sql.tds: Added support for SYBUNIQUE.
    
    This is the type used by MSSQL for fields declared "uniqueidentifier".

  * Sql.tds: Added support for SYBFLTN.
    
    This is the type used by MSSQL for fields declared "float" or "real".

  * SQL.tds: Fixed support for fetching negative NUMERIC and DECIMAL.

  * Updated to tzdata2015a.

  * Odbc: typed_result->fetch_row() now returns Val.null for NULL.

  * Stdio.Sendfile: Don't attempt nonblocking I/O on plain files.
    
    Potential fix for "This file does not support nonblocking operation."
    in Stdio.Sendfile->writer_done().

  * Protocols.DNS: Remove the retry call_out on done.
    
    Fixes remainder of [bug 6285].

  * Export: gzip enters interactive mode if the destination exists.
    
    This can cause the export to hang and/or fail.

  * Updated to tzdata2015c.

  * Parser.C: Improved diagnostics from group().
    
    Don't drop the grouping stack on the floor if there are missing ungroupings.
    
    Fixes loss of initial code in precompiler if braces are missing at
    the end of classes.

  * release number bumped to 930 by export.pike

  * Sync with Roxen 5.4.88-r2.
